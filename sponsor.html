<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Become a Sponsor for Pradhaan and empower Local Leadership
      </title>
      <link rel="canonical" href="https://pradhaan.in/sponsor.html" />
      <meta name="robots" content="index, follow" />
      <meta name="description"
            content="Become a sponsor for Pradhaan and contribute to creating your own empowered local community. Support our mission of promoting civic engagement and local leadership for countryâ€™s development.">
      <script type="application/ld+json">
            {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Pradhaan",
            "url": "https://pradhaan.in/",
            "logo": "https://pradhaan.in/assets/images/new%20logo%20(2).jpg"
            }
            </script>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-RLJMEYDWHZ"></script>
      <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());

            gtag('config', 'G-RLJMEYDWHZ');
      </script>
      <meta property="og:title" content="Pradhaan">
      <meta property="og:description" content="Your Place. Your Voice. Your Leadership.">
      <meta property="og:image" content="https://pradhaan.in/assets/images/new%20logo%20(2).jpg">
      <meta property="og:url" content="pradhaan.in">
      <meta name="og:site_name" content="Pradhaan.in">
      <title>Pradhaan</title>
      <!-- favicon -->
      <link rel="IMG-20231205-WA0027" sizes="180x180" href="assets/images/favicons/IMG-20231205-WA0027.jpg">
      <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicons/logo4.jpg">
      <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicons/logo3.jpg">
      <link rel="manifest" href="assets/images/favicons/site.webmanifest">
      <!-- plugin scripts -->
      <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap"
            rel="stylesheet">

      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.2/axios.min.js"
            integrity="sha512-JSCFHhKDilTRRXe9ak/FJ28dcpOJxzQaCd3Xg8MyF6XFjODhy/YMCM8HW0TFDckNHWUewW+kfvhin43hKtJxAw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>

      <script src="https://cdn.jsdelivr.net/npm/js-sha256/build/sha256.min.js"></script>

      <link rel="stylesheet" href="assets/css/bootstrap.min.css">
      <link rel="stylesheet" href="assets/css/animate.min.css">
      <link rel="stylesheet" href="assets/css/bootstrap-select.min.css">
      <link rel="stylesheet" href="assets/css/bootstrap-datepicker.min.css">
      <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
      <link rel="stylesheet" href="assets/css/magnific-popup.css">
      <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
      <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">
      <link rel="stylesheet" href="assets/css/apton-icons.css">

      <!-- theme styles -->
      <link rel="stylesheet" href="assets/css/style.css">
      <link rel="stylesheet" href="assets/css/responsive.css">
</head>

<body>
      <div class="preloader">
            <img src="assets/images/IMG-20231205-WA0027.jpg" width="75" class="preloader__image" alt="Pradhaan Sponsor">
      </div><!-- /.preloader -->

      <div class="page-wrapper">
            <header class="site-header-one stricky site-header-one__fixed-top">
                  <div class="container-fluid">
                        <a href="/">
                              <div class="site-header-one__logo">
                                    <div class="logo-size">
                                          <img src="assets/images/new_logo_(2).png" alt="logo"
                                                style="height: 8vh; object-fit: cover;">
                                    </div>
                              </div>
                        </a>

                        <!-- /.site-header-one__logo -->
                        <div class="main-nav__main-navigation">
                              <ul class="main-nav__navigation-box one-page-scroll-menu">
                                    <li class="scrollToLink"><a href="/">Home</a></li>
                                    <li class="scrollToLink"><a href="pradhaantoday.html">Pradhaan
                                                Today</a></li>
                                                <li class="scrollToLink">
                                                      <a href="voting.html">Voting</a>
                                                </li>
                                    <li class="scrollToLink"><a href="pradhaanpledge.html">Pledge</a></li>
                                    <li class="scrollToLink"><a href="neuro.html">Neuro</a></li>
                                    <li class="scrollToLink"><a href="Mission.html">
                                                Mission</a></li>
                                    <li class="scrollToLink"><a href="blog-details.html">Blog</a></li>
                                    <li class="scrollToLink"><a href="G20.html">G20</a></li>
                                    <li class="scrollToLink"><a href="sponsor.html">Sponsors</a></li>
                              </ul>
                              <!-- /.main-nav__navigation-box -->
                        </div>
                        <!-- /.main-nav__main-navigation -->

                       

                        <div class="main-nav__right">
                              <a href="https://play.google.com/store/apps/details?id=com.ioninks.pradhaan&pli=1"
                                    class="thm-btn main-nav__btn-two" target="_blank" rel="noopener noreferrer">
                                    <span>Download App</span>
                              </a>
                        </div>
                         <div class="menu__toggler_header">
                              <span class="side-menu__toggler"><i class="fa fa-bars"></i></span>
                        </div>

                        <!-- /.main-nav__right -->
                  </div>
                  <!-- /.container-fluid -->
            </header><!-- /.site-header-one -->

            <section class="page-header" style="margin-top: 115px;">
                  <div class="container">
                        <h2 style="color: var(--thm-base);">Sponsors</h2>
                        <ul class="list-unstyled thm-breadcrumb">
                              <li><a href="/">Home</a></li>
                              <li><span>Sponsors</span></li>
                        </ul><!-- /.list-unstyled -->
                  </div><!-- /.container -->
            </section><!-- /.page-header -->

            <section class="service-one" id="features">
                  <div class="container">

                        <div class="sponsor d-f sponsor1">
                              <section class="tab" id="sponsor">
                                    <h2 class="head" style="margin-top: 2%;">Sponsorship
                                          Details</h2>

                                    <!-- Organization Details Form -->
                                    <div class="sponsorsub">
                                          <div class="sponsor-form">
                                                <form id="organization-details-form" class="submit-form">
                                                      <div>
                                                            <label for="org-name">Organization
                                                                  Name:</label>
                                                            <input type="text" id="org-name" name="org_name"
                                                                  placeholder="Enter Organization Name" required><br />
                                                      </div>
                                                      <div>
                                                            <label for="name">Name:</label>
                                                            <input type="text" id="name" name="name"
                                                                  placeholder="Enter Your Name" required><br />
                                                      </div>
                                                      <div>
                                                            <label for="email">Email
                                                                  ID:</label>
                                                            <input type="email" id="email" name="email"
                                                                  placeholder="Enter Your Email" required><br />
                                                      </div>
                                                      <div>
                                                            <label for="contact">Contact
                                                                  Information:</label>
                                                            <input type="text" id="contact" name="contact"
                                                                  placeholder="Enter Your Ph.No" required><br />
                                                      </div>

                                                      <p>Amount:</p>
                                                      <input type="checkbox" id="vehicle1" name="amount" value="1000"
                                                            onclick="onlyOne(this)">
                                                      <label for="vehicle1">
                                                            1000</label><br>
                                                      <input type="checkbox" id="vehicle2" name="amount" value="2000"
                                                            onclick="onlyOne(this)">
                                                      <label for="vehicle2">
                                                            2000</label><br>
                                                      <input type="checkbox" id="Custom" name="amount" value="Custom"
                                                            onclick="onlyOne(this)">
                                                      <label for="vehicle3">
                                                            Custom</label><br><br>

                                                      <!-- Additional field for custom number -->
                                                      <div id="custom-number-field" style="display:none;">
                                                            <label for="custom-number">Custom
                                                                  Amount:</label>
                                                            <input type="text" id="custom-number" name="amount"
                                                                  placeholder="Enter Custom Amount"><br />
                                                      </div>

                                                      <button class="banner-one__mc-btn" type="button"
                                                            onclick="validateForm()">Continue
                                                            to
                                                            Payment</button>
                                                </form>

                                          </div>
                                    </div>
                              </section>

                        </div>
                  </div>
            </section><!-- /.service-one -->

            <div id="footer-placeholder"></div>
            <script>
                  // Fetch the footer.html file and insert its content into the placeholder
                  fetch('footer.html')
                        .then(response => response.text())
                        .then(data => {
                              document.getElementById('footer-placeholder').innerHTML = data;
                        });
            </script>

      </div><!-- /.page-wrapper -->
      <a href="#" data-target="html" class="scroll-to-target scroll-to-top"><i class="fa fa-angle-up"></i></a>
      <div class="side-menu__block">
            <div class="side-menu__block-overlay custom-cursor__overlay">
                  <div class="cursor"></div>
                  <div class="cursor-follower"></div>
            </div><!-- /.side-menu__block-overlay -->
            <div class="side-menu__block-inner ">
                  <div class="side-menu__top justify-content-end">

                        <a href="#" class="side-menu__toggler side-menu__close-btn"><img
                                    src="assets/images/shapes/close-1-1.png" alt="Empowering Local Leadership"></a>
                  </div><!-- /.side-menu__top -->

                  <nav class="mobile-nav__container">
                        <!-- content is loading via js -->
                  </nav>
                  <div class="side-menu__sep"></div><!-- /.side-menu__sep -->
                  <div class="side-menu__content">

                        <div class="main-nav__right">
                              <!-- <a
                                          href="https://play.google.com/store/apps/details?id=com.ioninks.pradhaan&pli=1"
                                          class="thm-btn main-nav__btn-two"
                                          target="_blank"
                                          rel="noopener noreferrer">
                                          <span>Download App</span>
                                    </a> -->
                        </div>
                        <!--<p><a href="mailto:needhelp@apton.com">needhelp@apton.com</a> <br> <a href="tel:888-999-0000">888 999-->
                        <!--        0000</a></p>-->
                        <div class="side-menu__social">
                              <a target="_blank"
                                    href="https://www.facebook.com/people/Pradhaan-India/61556919577490/?mibextid=ZbWKwL"><i
                                          class="fa-brands fa-square-facebook"></i></a>

                              <a target="_blank" href="https://x.com/PradhaanIndia?t=qjUaPfV2pXryeFyK1C4__w&amp;s=09"><i
                                          class="fa-brands fa-square-twitter"></i></a>

                              <a target="_blank"
                                    href="https://www.instagram.com/pradhaanindia/?utm_source=qr&amp;igsh=MXIxbWZ3MnhmdTV1Zw%3D%3D"><i
                                          class="fa-brands fa-square-instagram"></i></a>

                              <a target="_blank" href="https://www.pinterest.com/pradhaanindia/"><i
                                          class="fa-brands fa-square-pinterest"></i></a>

                        </div>
                  </div><!-- /.side-menu__content -->
            </div><!-- /.side-menu__block-inner -->
      </div><!-- /.side-menu__block -->

      <script>
            function onlyOne(checkbox) {
                  var checkboxes = document.getElementsByName('amount');
                  checkboxes.forEach((item) => {
                        if (item !== checkbox) item.checked = false;
                  });
            }
      </script>

      <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-firestore.js"></script>

      <script>

            var firebaseConfig = {
                  apiKey: "AIzaSyCN2Q-jQqFJUzpHohPD16CJV4LwKg6nvf8",
                  authDomain: "chunaw-a66df.firebaseapp.com",
                  projectId: "chunaw-a66df",
                  storageBucket: "chunaw-a66df.appspot.com",
                  messagingSenderId: "379389559599",
                  appId: "1:379389559599:web:e3788d2d8872cf629d17da"
            };


            if (localStorage.getItem('formData')) {

                  firebase.initializeApp(firebaseConfig);
                  var db = firebase.firestore();

                  const formData = JSON.parse(localStorage.getItem('formData'));

                  formData.createdAt = firebase.firestore.FieldValue.serverTimestamp();
                  if (formData && formData.merchantId && formData.transactionId) {
                        let apiUrl = `https://api.phonepe.com/apis/hermes/pg/v1/status/${formData.merchantId}/${formData.transactionId}`;

                        //  const saltKey = "96434309-7796-489d-8924-ab56988a6076";
                        const saltKey = "d506716b-9b67-4935-924f-c391de76f70b";
                        const saltIndex = 1; // Assuming saltIndex is a constant

                        const concatenatedString = `/pg/v1/status/${formData.merchantId}/${formData.transactionId}` + saltKey;
                        const hash = sha256(concatenatedString);
                        const xVerifyValue = hash + '###' + saltIndex;
                        let headers = {
                              'X-VERIFY': xVerifyValue,
                              'Accept': 'application/json, text/plain, */*',
                              'X-MERCHANT-ID': formData.merchantId,
                        };

                        axios.get(apiUrl, { headers, timeout: 10000 }) // Set timeout to 10 seconds
                              .then(function (response) {
                                    console.log(response.data);
                                    const state = response.data.data.state;
                                    const RealtransactionId = response.data.data.transactionId;

                                    // Get existing formData from localStorage
                                    let formData = JSON.parse(localStorage.getItem('formData')) || {};

                                    // Update formData with state and transactionId if available, otherwise store null
                                    formData.state = state || null;
                                    formData.RealtransactionId = RealtransactionId || null;

                                    // Store updated formData back in localStorage
                                    localStorage.setItem('formData', JSON.stringify(formData));


                              })
                              .catch(function (error) {
                                    if (error.code === 'ERR_NETWORK') {
                                          console.error('Network Error. Please check your connection and try again.');
                                    } else {
                                          console.error('An error occurred:', error.message);
                                    }
                              });

                  } else {
                        console.error('Invalid formData found in localStorage');
                  }
                  //   if (formData) {
                  //       db.collection("sponsor").add(formData)
                  //           .then((docRef) => {
                  //               console.log("Document written with ID: ", docRef.id);
                  //           })
                  //           .catch((error) => {
                  //               console.error("Error adding document: ", error);
                  //           });
                  //     } else {
                  //       console.error("No formData found in localStorage");
                  //     }

                  localStorage.removeItem('formData');
            }

            function onlyOne(checkbox) {
                  const checkboxes = document.getElementsByName('amount');
                  checkboxes.forEach((item) => {
                        if (item !== checkbox) item.checked = false;
                  });

                  const customNumberField = document.getElementById('custom-number-field');
                  if (checkbox.value === 'Custom' && checkbox.checked) {
                        customNumberField.style.display = 'block';
                        document.getElementById('custom-number').setAttribute('required', 'required');
                  } else {
                        customNumberField.style.display = 'none';
                        document.getElementById('custom-number').removeAttribute('required');
                  }
            }

            function validateForm() {
                  const form = document.getElementById('organization-details-form');
                  if (!form.checkValidity()) {
                        form.reportValidity();
                        return;
                  }

                  const checkboxes = document.getElementsByName('amount');
                  let checkboxChecked = false;
                  let selectedAmount = null;

                  for (let i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                              checkboxChecked = true;
                              selectedAmount = checkboxes[i].value === 'Custom' ? document.getElementById('custom-number').value : checkboxes[i].value;
                              break;
                        }
                  }

                  if (!checkboxChecked) {
                        alert('Please select at least one option from the checkboxes.');
                        return;
                  }

                  saveFormData(selectedAmount);
                  onCheckoutClicks();
            }

            function saveFormData(amount) {
                  const form = document.getElementById('organization-details-form');
                  const formData = new FormData(form);
                  const formObject = {};
                  formData.forEach((value, key) => {
                        formObject[key] = value;
                  });

                  formObject['amount'] = amount;  // Add the selected amount to the form data
                  // formObject['merchantId'] = "PGTESTPAYUAT86";  // Add merchantId to the form data
                  formObject['merchantId'] = "M22HXYKF8MIQX";

                  formObject['transactionId'] = generateTransactionId();  // Add transactionId to the form data
                  localStorage.setItem('formData', JSON.stringify(formObject));
            }

            function generateTransactionId() {
                  return 'MT' + Math.floor(Math.random() * 100000000000000);
            }

            async function onCheckoutClicks() {
                  await buildPaymentRequest();
            }

            async function buildPaymentRequest() {
                  const formData = JSON.parse(localStorage.getItem('formData'));
                  const amount_to_pay = formData.amount;
                  const contact = formData.contact;

                  let apiUrl = "https://api.phonepe.com/apis/hermes/pg/v1/pay";
                  let merchantId = "M22HXYKF8MIQX";
                  let saltkey = "d506716b-9b67-4935-924f-c391de76f70b";
                  let merchantPhone = contact;
                  let transactionId = generateTransactionId();
                  let userID = "USER-" + contact;
                  let redirectUrl = "https://pradhaan.in/sponsor.html";
                  let payload = {
                        merchantId: merchantId,
                        merchantTransactionId: transactionId,
                        merchantUserId: userID,
                        amount: amount_to_pay * 100,
                        redirectUrl: `${redirectUrl}`,
                        redirectMode: 'POST',
                        callbackUrl: `${redirectUrl}`,
                        mobileNumber: merchantPhone,
                        paymentInstrument: {
                              type: 'PAY_PAGE'
                        }
                  };

                  const base64Data = btoa(JSON.stringify(payload));
                  let saltIndex = 1;
                  let string = sha256(base64Data + '/pg/v1/pay' + saltkey) + '###' + saltIndex;

                  let headers = {
                        'Content-Type': 'application/json',
                        'X-VERIFY': string,

                  };

                  // Creating a promise for the fetch API
                  const responsePromise = new Promise((resolve, reject) => {
                        fetch(apiUrl, {
                              method: 'POST',
                              headers: headers,
                              body: JSON.stringify({ request: base64Data })
                        })
                              .then(response => {
                                    if (!response.ok) {
                                          throw new Error('Network response was not ok');
                                    }
                                    return response.json();
                              })
                              .then(data => {
                                    resolve(data);
                              })
                              .catch(error => {
                                    reject(error);
                              });
                  });

                  try {
                        let response = await responsePromise;
                        console.log({
                              url: response?.data?.instrumentResponse?.redirectInfo?.url,
                              message: 'Payment Initiated',
                              success: true
                        });
                        window.location.href = response?.data?.instrumentResponse?.redirectInfo?.url;
                  } catch (error) {
                        console.error(error);
                  }
            }

      </script>

      <script src="assets/js/jquery-3.5.0.min.js"></script>
      <script src="assets/js/bootstrap.bundle.min.js"></script>
      <script src="assets/js/bootstrap-select.min.js"></script>
      <script src="assets/js/bootstrap-datepicker.min.js"></script>
      <script src="assets/js/isotope.js"></script>
      <script src="assets/js/jquery.ajaxchimp.min.js"></script>
      <script src="assets/js/jquery.waypoints.min.js"></script>
      <script src="assets/js/jquery.counterup.min.js"></script>
      <script src="assets/js/jquery.magnific-popup.min.js"></script>
      <script src="assets/js/jquery.validate.min.js"></script>
      <script src="assets/js/owl.carousel.min.js"></script>
      <script src="assets/js/TweenMax.min.js"></script>
      <script src="assets/js/wow.js"></script>
      <script src="assets/js/theme.js"></script>
</body>

</html>
